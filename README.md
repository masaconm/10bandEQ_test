# 10 Band Equalizer EQ10 概要

このプロトタイプは、SwiftUI と AVFoundation を用いて実装された 10 バンド EQ アプリケーションです。
リアルタイムの音声処理、EQ 調整、波形表示、レベルモニタリング、UIDocumentPicker を利用した音声ファイルの選択などの機能を試作しています。


## 実装テスト中の機能

1. **10 バンド EQ**

   - 32 Hz から 16 kHz までの 10 個の周波数帯に対して、低域シェルフ、ハイ域シェルフ、パラメトリックフィルターを用いたゲイン調整。

2. **リアルタイム音声処理**

   - AVAudioEngine を利用し、再生中の音声から波形データと dB 値に基づく音量レベルをリアルタイムに算出・表示します。

3. **音声ファイル選択**

   -  UIDocumentPicker (SwiftUI のラッパー) により、ユーザが端末内の音声ファイルを選択して読み込むことができます。
   - ※この機能は実機での動作を推奨します。

4. **波形表示 & レベルメーター**

   - `SmoothWaveformView`：再生位置に追従＋拡大縮小
   - `LevelMeterViewSwiftUI`：dBレベルによる色分け表示
  
5. **プリセット管理**

   - 保存：名前付きでEQ設定＋フィルタータイプを保存
   - 読込：タップで適用 / 削除可能
   - 保存形式：UserDefaults（JSON）

6. **プレイリスト管理**

   - 録音・インポート音声を一覧化
   - タップで再生 / ゴミ箱で削除
   - 永続保存：UserDefaultsにJSONで保存

7. **MIDIコントローラーマッピング**

   - 各EQバンドやGAINにMIDI CCを割当
   - 編集画面で割当変更可能
   - KORG nanoKONTROL接続時に自動プリセット割当

8. **オーディオI/O設定**

   - AVAudioSessionを用いて入出力デバイス管理
   -  USB / 内蔵マイクなど対応　※Bluetoothは現プログラムでは非推奨です
   - デバイス変更時に自動再検出


## 使い方

1. **起動**

   - アプリ起動時に、ヘッダー、波形表示エリア、EQ スライダー群、ゲインスライダー、レベルメーター、再生／ファイル選択ボタンが表示されます。

2. **音声ファイルの選択**

   - 「Select Audio File」ボタンをタップすると UIDocumentPicker が表示され、端末内の音声ファイルを選択できます。選択後、読み込んだ音声ファイルを再生可能です。

3. **EQ 調整**

   - 各 EQ スライダーを操作することで、10 バンドのゲインを変更できます。各バンドの中心周波数はラベルにより確認できます。

4. **波形・レベル表示**

   - リアルタイムで波形表示および音量レベル（dB）が更新され、視覚的に音声の状態を確認できます。

5. **再生／停止**

   - 「Play / Pause」ボタンで音声の再生・停止ができます。

## まとめ

   - 機能とUIのテストを行いながら更新をいたします。
     
